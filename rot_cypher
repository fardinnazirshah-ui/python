def rot_encrypt(text, shift):
    result = ""  #empty string to store our encrypted message
    
    for char in text:
        #check if character is an uppercase letter (A-Z)
        if char.isupper():
            # ord() converts character to ASCII number 
            position = ord(char) - 65
            
            #add shift and use modulo 26 to wrap around alphabet
            new_position = (position + shift) % 26
            
            #convert back to ASCII and then to character
            new_char = chr(new_position + 65)
            result += new_char
        
        #check if character is a lowercase letter (a-z)
        elif char.islower():
            #same logic as uppercase, but using 97 (ASCII value of 'a')
            position = ord(char) - 97
            new_position = (position + shift) % 26
            new_char = chr(new_position + 97)
            result += new_char
        
        #if character is not a letter keep it unchanged
        else:
            result += char
    
    return result 

def rot_decrypt(text, shift):
    return rot_encrypt(text, -shift)


def main():
    print("=" * 50)
    print("ROT CIPHER ENCRYPTION/DECRYPTION PROGRAM")
    print("=" * 50)
    print()
    print("Choose an option:")
    print("1. Encrypt a message")
    print("2. Decrypt a message")
    print()

    while True:
        choice = input("Enter your choice (1 or 2): ")
        
        #break loop only if valid input is provided
        if choice in ['1', '2']:
            break
        else:
            print("Invalid choice. Please enter 1 or 2.")
    
    print()
    message = input("Enter your message: ")
    
    #get shift value and validate
    while True:
        try:
            shift = int(input("Enter shift value (1-25): "))
            if 1 <= shift <= 25:
                break
            else:
                print("Please enter a number between 1 and 25.")
        
        #user enters non-numeric input
        except ValueError:
            print("Invalid input. Please enter a number.")
    
    print()
    print("-" * 50)

    if choice == '1':
        encrypted = rot_encrypt(message, shift)
        print(f"Original message: {message}")
        print(f"Encrypted message: {encrypted}")
        print(f"Shift used: {shift}")
    else:
        decrypted = rot_decrypt(message, shift)
        print(f"Encrypted message: {message}")
        print(f"Decrypted message: {decrypted}")
        print(f"Shift used: {shift}")
    
    print("-" * 50)


if __name__ == "__main__":
    main()   
